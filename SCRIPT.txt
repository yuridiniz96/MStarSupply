use master
IF db_id('MSTARSUPPLY') is not null
    drop database MSTARSUPPLY
GO
CREATE DATABASE MSTARSUPPLY
GO

USE MSTARSUPPLY
GO

CREATE TABLE USUARIO(
	IDUSUARIO		UNIQUEIDENTIFIER		NOT NULL DEFAULT NEWID(),
	NOME			NVARCHAR(150)		NOT NULL,
	EMAIL			NVARCHAR(100)		NOT NULL UNIQUE,
	SENHA			NVARCHAR(50)		NOT NULL,
	PRIMARY KEY(IDUSUARIO))
GO

INSERT INTO USUARIO (NOME,EMAIL, SENHA) VALUES ('ADMIN','admin@gmail.com','Admin@123')


CREATE TABLE MERCADORIA(
	IDMERCADORIA			UNIQUEIDENTIFIER	NOT NULL,
	NOMEMERCADORIA			NVARCHAR(150)		NOT NULL,
	NUMEROREGISTRO			NVARCHAR(100)		NOT NULL,
	FABRICANTE				NVARCHAR(100)		NOT NULL,
	TIPOMERCADORIA			NVARCHAR(100)		NOT NULL,
	DESCRICAO				NVARCHAR(250)		NOT NULL,
	DATACADASTRO			DATETIME			NOT NULL,
	PRIMARY KEY(IDMERCADORIA))
GO


CREATE TABLE ENTRADASAIDA(
	IDENTRADASAIDA			UNIQUEIDENTIFIER		NOT NULL,
	IDMERCADORIA			UNIQUEIDENTIFIER		NOT NULL,
	NOMEMERCADORIA			NVARCHAR(150)		NOT NULL,
	DATAENTRADA				DATETIME			NOT NULL,
	ISSAIDA				BIT				NULL,
	DATASAIDA				DATETIME			NULL,
	PRIMARY KEY(IDENTRADASAIDA),
	FOREIGN KEY(IDMERCADORIA) REFERENCES MERCADORIA(IDMERCADORIA))
GO
